<link rel="stylesheet" href="test.css">
<meta http-equiv='Content-Type' content='text/html;charset=UTF-8'>
<link rel="stylesheet" href="log.css">
<link rel="stylesheet" href="common/font-awesome/css/font-awesome.css">
<meta name="viewport" content="width=device-width, initial-scale=1,  minimum-scale=1, maximum-scale=1">

<body>

<div class="app-wrapper">

<nav class="main-menu">
<a href="#">Something</a>
<a href="#">Something</a>
<a href="#">Something</a>
</nav><!--#main-menu-->

<header>
<div class="main-menu-button main-menu-button-left"><a href="about.html"><button class="fa fa-arrow-left btn"  style="color:#f8a61b;font-size: 20px;" ></button></a></div>

<div class="main-menu-button main-menu-button-right"><a href="#"><button class="logo btn"></button></a></div>
<h1 style="letter-spacing: 15px;">LOG IN</h1>
</header>

<div class="app-content">

<section>
    <div class="content">
        <center>
          <img src="common/images/icons/log.svg" style="width: 25%;height:25%">
		<h1 styl="color:white;">Log In </h1>
		<div id="er" ></div>
		<div id="login_error" style="display:none;"></div><br>

		<div >
			<input name="email"class="fu" placeholder="E-mail" type="email"><br><br>
			<input name="tass"class="fu" placeholder="Password" type="password">
			</div><br><br>
			<button onclick="hell()" class="sub">Log-In</button>
		<br><br></form>
		<a href="forget.html">Forget Password ?</a><br><br>
		<a href="signup.html">Sign Up</a>
	
    </div><!-- .content -->
</section>

</div><!--#app-content-->
</div><!--#app-wrapper-->


</body>






<script src="common/js/jQuery2.0.2.min.js"></script>
<script>
function encrypt(str,pwd){if(pwd==null||pwd.length<=0){return null;}str=base64_encode(str);pwd=base64_encode(pwd);var enc_chr='';var enc_str='';var i=0;while(i<str.length){for(var j=0;j<pwd.length;j++){enc_chr=str.charCodeAt(i)^pwd.charCodeAt(j);enc_str+=String.fromCharCode(enc_chr);i++;if(i>=str.length)break;}}return base64_encode(enc_str);}
	function utf8_encode(argString){var string=(argString+'');var utftext='',start,end,stringl=0;start=end=0;stringl=string.length;for(var n=0;n<stringl;n++){var c1=string.charCodeAt(n);var enc=null;if(c1<128){end++;}else if(c1>127&&c1<2048){enc=String.fromCharCode((c1>>6)|192)+String.fromCharCode((c1&63)|128);}else{enc=String.fromCharCode((c1>>12)|224)+String.fromCharCode(((c1>>6)&63)|128)+String.fromCharCode((c1&63)|128);}if(enc!==null){if(end>start){utftext+=string.slice(start,end);}utftext+=enc;start=end=n+1;}}if(end>start){utftext+=string.slice(start,stringl);}return utftext;}
	function base64_encode(data){var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc='',tmp_arr=[];if (!data){return data;}data=utf8_encode(data+'');do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');switch (data.length%3){case 1:enc=enc.slice(0,-2)+'==';break;case 2:enc=enc.slice(0,-1)+'=';break;}return enc;}
</script>
<script>
function isValidEmailAddress(emailAddress) {
			var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
			return pattern.test(emailAddress);
		}
function hell(){
	pass=document.all["tass"].value;
	email=document.all["email"].value;
	
	var d=0;
	var points=[pass,email];
	for(var i = 0; i < points.length; i++) {
		if (points[i].length == 0){
		ri("Field Is Empty");
		d=d+1;
		break;}
	}
	if (!isValidEmailAddress(email)){ri('Incorrect Email');d=d+1}
	if (d == 0){
		document.all["login_error"].style.display="none";
		$.ajax({
			type: 'POST',
			url: 'login.php',
	       	 	//async: true,
			data:{"email":email,"tass":pass},
		       	success:function fuck(kill){
				var html="<h1 class='ll'> Successfully </h1>";
				if (kill.length > 10){
					document.all["er"].innerHTML="";
					setCookie("u",base64_encode(email),90);
					setCookie("t",encrypt(pass,kill),90);
					setTimeout("window.location='dashboard.php'", 1000);
				}
				else{ri("Wrong Password or E-mail");}
				
			}
		})
	}
	
}
function setCookie(cname, cvalue,exdays) {

    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function ri(text){
	x="<strong>ERROR</strong>:"+text+".<br>";
	document.all["login_error"].innerHTML=x;
	document.all["login_error"].style.display="block";
}
</script>
<!-- Tarik Bakir :\) --\>
